{% extends './basic.html'%}
{%block css%}
<style>
    .list-group{
  padding-left:165px;
  padding-right:165px;
  border-radius:1.25rem;
}
</style>
{% endblock %}
{%block content%}
{% load static %}
<div class="container my-4">
    <div id="checkoutItemsList" class="col">
        <h4>Step1: Please Verify your items</h4>
        <ul class="list-group" id="checkoutCartList">
            <li class="list-group-item d-flex justify-content-between align-items-center">
                No Items to checkout
                <span class="badge badge-primary badge-pill">0.00</span>
            </li>
        </ul>
    </div>
    <div id="checkoutAddress" class="col my-4">
        <h4>Step1: Please Enter your shipping address</h4>
        <form>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="inputName">Name</label>
                    <input type="text" class="form-control" id="inputName">
                </div>
                <div class="form-group col-md-6">
                    <label for="inputEmail">Email</label>
                    <input type="email" class="form-control" id="inputEmail">
                </div>
            </div>
            <div class="form-group">
                <label for="inputAddress">Address</label>
                <input type="text" class="form-control" id="inputAddress" placeholder="Please Enter your Address Here">
            </div>
            <div class="form-group">
                <label for="inputAddress2">Address 2</label>
                <input type="text" class="form-control" id="inputAddress2" placeholder="Apartment, studio, or floor">
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="inputCity">City</label>
                    <input type="text" class="form-control" id="inputCity">
                </div>
                <div class="form-group col-md-6">
                    <label for="inputState">State</label>
                    <input type="text" class="form-control" id="inputState">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="inputPhone">Phone</label>
                    <input type="text" class="form-control" id="inputPhone">
                </div>
                <div class="form-group col-md-6">
                    <label for="inputZip">Zip</label>
                    <input type="text" class="form-control" id="inputZip">
                </div>
            </div>
    </div>
    <button type="submit" class="btn btn-primary my-2 mx-3">Place Order</button>
    </form>
</div>
</div>
{%endblock%}
{% block js %}
<script>
cart = JSON.parse(localStorage.getItem('cart'));
var i = 0;
var listItems = "";
var total = 0; {% for p in products %}
var id = "pr{{p.id}}";
var listItem = "";
if (cart[id] != undefined) {
    var name = "{{p.productName}}";
    var qty = cart[id];
    var price = "{{p.price}}";
    listItem = "<li class='list-group-item list-group-item-secondary d-flex justify-content-between align-items-center'>";
    listItem = listItem + "<span class='badge badge-secondary badge-pill'> Name. " + name + "</span>";
    listItem = listItem + "<span class='badge badge-info badge-pill'> Price. &#8377; " + price + "  per unit</span>";
    listItem = listItem + "<span class='badge badge-warning badge-pill'> Qty. " + qty + "</span>";
    listItem = listItem + "</li>";
    total = total + qty;
}
listItems = listItems + listItem; {% endfor %}

if (listItems) {

    document.getElementById('checkoutCartList').innerHTML = listItems;
    document.getElementById('cartItems').innerHTML = total;
}
</script>
{% endblock %}